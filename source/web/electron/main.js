"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var o=require("electron"),t=require("path");const l={dist:t.join(__dirname,"../.."),public:t.join(__dirname,o.app.isPackaged?"../..":"../../../public")};o.app.whenReady().then(()=>{const i=new o.BrowserWindow({width:1024,height:768});o.session.defaultSession.on("will-download",(n,e,a)=>{console.log(e),e.pause(),console.log(e.canResume()),e.resume()});const s=async(n=o.app.getPath("downloads"))=>{if(!i)return n;const{canceled:e,filePaths:a}=await o.dialog.showOpenDialog(i,{title:"\u9009\u62E9\u4FDD\u5B58\u4F4D\u7F6E",properties:["openDirectory","createDirectory"],defaultPath:n});return e?n:a[0]};o.ipcMain.handle("openFileDialog",(n,e)=>s(e)),t.join(l.dist,"index.html"),o.app.isPackaged?i.loadFile("dist/index.html"):i.loadURL("http://localhost:3000")});exports.ROOT_PATH=l;
